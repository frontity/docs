# REST API - Head Tags

## Description

This plugin adds all the tags in the `<head>` section of a site to WordPress REST API responses. You can download it [here](https://wordpress.org/plugins/rest-api-head-tags/).

It is perfect if you are using WordPress for a headless set-up and you would like to add the **meta tags** generated by your **WordPress** **SEO plugin** \(like Yoast SEO or All-in-One SEO Pack\) to the WordPress REST API output.

### Requisites

This package depends on the [PHP DOM library](https://www.php.net/manual/en/book.dom.php). It looks like not all PHP servers include it by default, so make sure you have it installed before using this plugin

> If you get some errors regarding this dependency have a look a this [thread](https://github.com/frontity/wp-plugins/issues/35)

### Compatibility

This plugin is compatible and works out of the box with most popular WordPress SEO plugins. These are the ones that we have tested:

* **Yoast SEO**
* **All in One SEO Pack**

Are you using a different SEO plugin and want to know if it's compatible? Feel free to ask in our [community forum.](https://community.frontity.org/) If you tested any other plugin, please let us know as well so we can update the list.

## How to use this plugin

### Entities with head tags

The plugin has been developed to include the `head_tags` field to the REST API response of most of the WordPress core entities:

* Posts, pages, attachments and custom post types
* Post types: for archive pages
* Categories, tags and custom taxonomies
* Authors

### In a Frontity project

In this case, you just have to install the [@frontity/head-tags package]() and **it'll work automatically**.

### **In a different project**

You need to understand better how it works and **add the data manually**.

#### How to fetch the head\_tags field manually

You have to get each entity from its respective REST API endpoint.

For example, for fetching the posts you should go to `/wp-json/wp/v2/posts&id=123` endpoint, for fetching the categories you have to go to `wp-json/wp/v2/categories&id=123,` and for custom post types or custom taxonomies would be a different URL in each case.

In the case of the homepage, it could be less intuitive and you should go to `/wp-json/wp/v2/types/post.` As previously said, each entity has a different endpoint so if you aren't familiar with this, you should check the [WordPress REST API reference](https://developer.wordpress.org/rest-api/reference/) for more info.

Inside each endpoint, it will be a new field named `head_tags` , which will be an array of objects representing the tags that WordPress would normally include inside the HTML `head` element. These objects have the properties `tag`, `attributes` and `content`.

For example for these HTML tags:

```text
<title>Hello wordl! - My Site</title>
  <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <link rel="canonical" href="<http://mysite.com/hello-world/>" />
```

This would be the content of the `head_tags` field:

```text
"head_tags": [
  {
    "tag": "title",
    "content": "Hello world! - My Site"
  },
  {
    "tag": "meta",
    "attributes": {
      "name": "robots",
      "content": "max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    }
  },
  {
    "tag": "link",
    "attributes": {
      "rel": "canonical",
      "href": "<http://mysite.com/hello-world/>"
    }
  }
]
```

## Settings

The settings of this plugin are really simple.

### Purge cache

In order to not affect the performance of your web, the `head_tags` field is cached for all your responses, but we've added a button to purge this cache in case something changes.

### Enable output

By default, the `head_tags` field is included in the common endpoint of each entity. You can configure it so it doesn't appear by default and to be shown when you include the `head_tags=true` query.

For example, with the output disabled, `https://mysite.com/wp-json/wp/v2/posts` won't show the `head_tags` field unless you have the query `? head_tags=true` at the end.

### Skip cache

In case you want to skip the cache, you can do so by adding to the query the parameter `skip_cache`.

There are some cache plugins for the REST API that also use the same parameter. In case you want to ignore the cache for the REST API call but not for the head tags, you can use `skip_cache&head_tags_skip_cache=false`.

## WordPress installation

1. First of all you have to [install the plugin](https://wordpress.org/plugins/rest-api-head-tags/). You can do it:
   * **Automatic**: from within WordPress dashboard go to Plugins, click `Add New` button, search for `REST API - Head Tags` \(by Frontity\) and click `Install Now`
   * **Manual**: this method requires to download the plugin and upload it to your web server via FTP.

     For a more detailed explanation, WordPress explains how to do this [on this guide](https://wordpress.org/support/article/managing-plugins/#manual-plugin-installation)
2. Once installed, you have to activate it and it will be running!

   The `head_tags` field is cached and enabled by default, but you can purge the cache or disable the output as explained on the [Settings](rest-api-head-tags.md#settings) section

{% hint style="info" %}
Still have questions? Ask [the community](https://community.frontity.org/)! We are here to help ðŸ˜Š
{% endhint %}

